
<!DOCTYPE html>
<html>
<head>
    <title>–û—á–∏—Å—Ç–∫–∞ —Å–µ—Å—Å–∏–π DnD</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background: linear-gradient(135deg, #1a202c, #2d3748);
            color: white;
        }
        .container {
            text-align: center;
            padding: 2rem;
            background: rgba(45, 55, 72, 0.8);
            border-radius: 8px;
            border: 1px solid #4a5568;
        }
        .success {
            color: #48bb78;
            font-size: 1.2em;
            margin-bottom: 1rem;
        }
        .info {
            color: #63b3ed;
            margin-bottom: 1rem;
        }
        button {
            background: #d69e2e;
            color: #1a202c;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
        }
        button:hover {
            background: #b7791f;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé≤ –û—á–∏—Å—Ç–∫–∞ —Å–µ—Å—Å–∏–π DnD</h1>
        <div id="status" class="info">–û—á–∏—â–∞–µ–º —Å–µ—Å—Å–∏–∏...</div>
        <button onclick="clearAndReload()">–û—á–∏—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ</button>
    </div>

    <script>
        function clearSessions() {
            try {
                // –û—á–∏—â–∞–µ–º –≤—Å–µ –∫–ª—é—á–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å DnD
                const keys = Object.keys(localStorage);
                let clearedCount = 0;
                
                keys.forEach(key => {
                    if (key.includes('dnd') || key.includes('DnD')) {
                        localStorage.removeItem(key);
                        clearedCount++;
                    }
                });
                
                // –¢–∞–∫–∂–µ –æ—á–∏—â–∞–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–ª—é—á–∏ —Å–µ—Å—Å–∏–π
                localStorage.removeItem('dnd-sessions');
                localStorage.removeItem('dnd-current-session');
                localStorage.removeItem('dnd-current-player');
                
                document.getElementById('status').innerHTML = 
                    '<div class="success">‚úÖ –°–µ—Å—Å–∏–∏ –æ—á–∏—â–µ–Ω—ã!</div>' +
                    '<div class="info">–û—á–∏—â–µ–Ω–æ –∫–ª—é—á–µ–π: ' + (clearedCount + 3) + '</div>' +
                    '<div class="info">–ú–æ–∂–Ω–æ –∑–∞–∫—Ä—ã–≤–∞—Ç—å —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É</div>';
                    
                console.log('–°–µ—Å—Å–∏–∏ DnD –æ—á–∏—â–µ–Ω—ã:', {
                    clearedKeys: clearedCount + 3,
                    timestamp: new Date().toISOString()
                });
                
                return true;
            } catch (error) {
                document.getElementById('status').innerHTML = 
                    '<div style="color: #f56565;">‚ùå –û—à–∏–±–∫–∞ –æ—á–∏—Å—Ç–∫–∏: ' + error.message + '</div>';
                console.error('–û—à–∏–±–∫–∞ –æ—á–∏—Å—Ç–∫–∏ —Å–µ—Å—Å–∏–π:', error);
                return false;
            }
        }
        
        function clearAndReload() {
            clearSessions();
            setTimeout(() => {
                location.reload();
            }, 1000);
        }
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞–µ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.onload = function() {
            setTimeout(clearSessions, 500);
        };
    </script>
</body>
</html>
